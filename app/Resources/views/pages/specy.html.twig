{% extends '::base.html.twig' %}

{% block body %}

    {% if observations is  defined %}
        <div class="row">
            <h3 class="columns">
                {% if specy.nomVern == "" %}
                  {{ specy.lbNom }}
                 {% else %}
                {{ specy.nomVern }}
                {% endif %}     - ({{ observations|length }} observations)</h3>
        </div>
        <div class="row">
            {% for observation in observations %}
                {% if loop.index == 1 %}
            <div class="large-4 columns">
                        <h4>La dernière observation : </h4>
                        <img src="{{ asset('img/' ~ observation.image.url) }}" alt="{{ observation.specy.nomVern }}">
                        <p>Coordonnées : {{ observation.longitude }}, {{ observation.latitude }}</p>
                        <p>Observée par : {{ observation.user.username }}</p>
                        <p>Commentaire : {{ observation.comment }}</p>
            </div>
            <div class="large-5 columns">
                {% include ':modules:map.html.twig' %}
            </div>
                {% endif %}
            {% endfor %}
            {% if observations is not empty %}
            <div class="large-3 columns">
               {{ include(':modules:sidebar.html.twig') }}
            </div>
            {% endif %}
        </div>
    {% endif %}

    {% if observations is empty %}
        <a href="{{ path('app_addObservation') }}" class="button">Ajouter une observation de cette espèce</a>
    {% endif %}

{% endblock %}